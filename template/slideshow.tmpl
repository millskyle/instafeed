
<!doctype html>
<html>
<head>
   <meta charset="utf-8" />
   <title>Full Page Slideshow Demo 1</title>



<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>


</head>
<body ng-app="SlideshowApp" >


<div class="main" ng-controller="MainController" >

   <div class="card" ng-repeat="image in images" >
      <img width='200px' ng-src='{{ image.url }}' />
      {{ image.uername }}
   </div>

</div>





</body>




<script>
//app
var app = angular.module('SlideshowApp', []);


////services
//app.factory('getimages', ['$http', function($http) { 
//   return $http.get('./get_photos.json')
//            .success(function(data) { console.log('data'); return data; }) 
//            .error(function(err) { console.log('error');return err;  }); 
//}]);



//controllers
app.controller('MainController', ['$scope', '$timeout', '$http', function($scope, $timeout, $http) { 
  //   getimages.success(function(data) {
 //            $scope.images=data;
   //           console.log('first fire');
   //  });

  $scope.getData = function () {
      $http.get('./get_photos.json')
           .success(function(data) { console.log('fetched'); $scope.images = data; });
   };

  // Function to replicate setInterval using $timeout service.
  $scope.intervalFunction = function(){
    $timeout(function() {
      $scope.getData();
//getimages.success(function(data) { $scope.images=data;   });
      $scope.intervalFunction();
      console.log('fired');
    }, 5000)
  };

  // Kick off the interval
  $scope.intervalFunction();


       // ... 
}]);




</script>


</html>

